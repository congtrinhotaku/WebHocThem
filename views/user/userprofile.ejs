<%- include('../partials/user/headers') %>


    <div class="container py-8">
        <div class="row py-2">
            <div class="col-md-4  col-xl-3 py-3 d-flex flex-column align-items-center rounded-start-3 bg-blue-50">
                <div class="avatar-group d-flex justify-content-center" style="position: relative;">
                    <img src="<%-user.Avatar_Nguoi_Dung || 'https://www.pngkey.com/png/full/115-1150152_default-profile-picture-avatar-png-green.png'%>" alt="Avatar" class="rounded-circle shadow" width="100" height="100">
                    <button class="position-absolute rounded-circle d-flex justify-content-center align-items-center bg-dark " style="width: 100px; height: 100px; opacity:0; ">
                        <i class="fa-solid fa-camera fa-lg text-white"></i>
                    </button>
                </div>
                <h2 class="mt-3 fw-bold text-center"><%= user.Ten_Nguoi_Dung %></h2>

                <ul class="list-group w-100 mt-3 bg-transparent">
                    <li class="list-group-item list1 bg-transparent border-0">
                        <a href="/profile" class="text-decoration-none text-dark"><i class="fa-solid fa-user pe-2"></i>Thông tin Tài Khoản</a>
                    </li>

                    <% if(user.Vai_Tro_Nguoi_Dung === 'GiangVien') { %>
                    <li class="list-group-item list1 bg-transparent border-0">
                        <a href="/giangvien/profile" class="text-decoration-none text-dark"><i class="fa-solid fa-chalkboard-user pe-2"></i></i>Thông tin Giảng Viên</a>
                    </li>
                    <% } %>
                </ul>


            </div>
            <div class="col-md-8 col-xl-9">
                <!-- Form cập nhật thông tin người dùng -->
                <div class="container-fluid my-1 w-100 mb-4">
                    <h4 class="mb-4 fw-bold fs-2">Cập nhật thông tin người dùng</h4>
                    <form action="/profile" method="POST" enctype="multipart/form-data">
                        <div class="form-group mb-3">
                        <label for="Ten_Nguoi_Dung">Họ tên</label>
                        <input type="text" name="Ten_Nguoi_Dung" id="Ten_Nguoi_Dung" class="form-control" value="<%= user.Ten_Nguoi_Dung %>" required>
                        </div>

                        <div class="form-group mb-3">
                        <label for="So_Dien_Thoai">Số điện thoại</label>
                        <input type="text" name="So_Dien_Thoai" id="So_Dien_Thoai" class="form-control" value="<%= user.So_Dien_Thoai %>">
                        </div>

                        <button type="submit" class="btn btn-primary">Cập nhật</button>
                    </form>
                </div>
                <!-- Form đổi mật khẩu -->
                <div class="container-fluid w-100 bg-white p-4">
                <h4 class="mb-4 fw-bold fs-2">Đổi mật khẩu</h4>
                <form action="/profile/change-password" method="POST">
                    <div class="row">
                        <div class="col form-group mb-3">
                            <label for="oldPassword">Mật khẩu hiện tại</label>
                            <input type="password" name="oldPassword" id="oldPassword" class="form-control" required>
                        </div>

                        <div class="col form-group mb-3">
                            <label for="newPassword">Mật khẩu mới</label>
                            <input type="password" name="newPassword" id="newPassword" class="form-control" required>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col form-group mb-3">
                            <label for="confirmPassword">Xác nhận mật khẩu mới</label>
                            <input type="password" name="confirmPassword" id="confirmPassword" class="form-control" required>
                        </div>

                        <button type="submit" class="col btn btn-warning h-100 my-auto">Đổi mật khẩu</button>
                    </div>
                </form>
                </div>


            </div>
        </div>
    </div>

    <script>
        const avatarGroup = document.querySelector('.avatar-group');
        const cameraIcon = avatarGroup.querySelector('.position-absolute');
        const list1 = document.querySelector('.list1');


        cameraIcon.addEventListener('mouseover', () => {
            cameraIcon.style.opacity = '0.5';
            cameraIcon.style.cursor = 'pointer';
        });
        cameraIcon.addEventListener('mouseout', () => {
            cameraIcon.style.opacity = '0';
        });
        cameraIcon.addEventListener('click', () => {
            console.log('Camera icon clicked!');
        });



    </script>
</body>

</html>